{"id":"../node_modules/pixi.js/lib/compressed-textures/shared/detectCompressed.mjs","dependencies":[{"name":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/compressed-textures/shared/detectCompressed.mjs.map","includedInParent":true,"mtime":1730294322822},{"name":"/Users/adamjones/Development/aj91-koyeb/package.json","includedInParent":true,"mtime":1730294323806},{"name":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/package.json","includedInParent":true,"mtime":1730294322533},{"name":"../../extensions/Extensions.mjs","loc":{"line":1,"column":30,"index":30},"parent":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/compressed-textures/shared/detectCompressed.mjs","resolved":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/extensions/Extensions.mjs"},{"name":"../../rendering/renderers/shared/texture/utils/getSupportedCompressedTextureFormats.mjs","loc":{"line":2,"column":53,"index":118},"parent":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/compressed-textures/shared/detectCompressed.mjs","resolved":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/rendering/renderers/shared/texture/utils/getSupportedCompressedTextureFormats.mjs"},{"name":"../../utils/browser/isWebGLSupported.mjs","loc":{"line":3,"column":33,"index":242},"parent":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/compressed-textures/shared/detectCompressed.mjs","resolved":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/utils/browser/isWebGLSupported.mjs"},{"name":"../../utils/browser/isWebGPUSupported.mjs","loc":{"line":4,"column":34,"index":320},"parent":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/compressed-textures/shared/detectCompressed.mjs","resolved":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/utils/browser/isWebGPUSupported.mjs"},{"name":"./resolveCompressedTextureUrl.mjs","loc":{"line":5,"column":29,"index":394},"parent":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/compressed-textures/shared/detectCompressed.mjs","resolved":"/Users/adamjones/Development/aj91-koyeb/node_modules/pixi.js/lib/compressed-textures/shared/resolveCompressedTextureUrl.mjs"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.detectCompressed = void 0;\nvar _Extensions = require(\"../../extensions/Extensions.mjs\");\nvar _getSupportedCompressedTextureFormats = require(\"../../rendering/renderers/shared/texture/utils/getSupportedCompressedTextureFormats.mjs\");\nvar _isWebGLSupported = require(\"../../utils/browser/isWebGLSupported.mjs\");\nvar _isWebGPUSupported = require(\"../../utils/browser/isWebGPUSupported.mjs\");\nvar _resolveCompressedTextureUrl = require(\"./resolveCompressedTextureUrl.mjs\");\n\"use strict\";\nlet compressedTextureExtensions;\nconst detectCompressed = exports.detectCompressed = {\n  extension: {\n    type: _Extensions.ExtensionType.DetectionParser,\n    priority: 2\n  },\n  test: async () => {\n    if (await (0, _isWebGPUSupported.isWebGPUSupported)()) return true;\n    if ((0, _isWebGLSupported.isWebGLSupported)()) return true;\n    return false;\n  },\n  add: async formats => {\n    const supportedCompressedTextureFormats = await (0, _getSupportedCompressedTextureFormats.getSupportedCompressedTextureFormats)();\n    compressedTextureExtensions = extractExtensionsForCompressedTextureFormats(supportedCompressedTextureFormats);\n    return [...compressedTextureExtensions, ...formats];\n  },\n  remove: async formats => {\n    if (compressedTextureExtensions) {\n      return formats.filter(f => !(f in compressedTextureExtensions));\n    }\n    return formats;\n  }\n};\nfunction extractExtensionsForCompressedTextureFormats(formats) {\n  const extensions = [\"basis\"];\n  const dupeMap = {};\n  formats.forEach(format => {\n    const extension = format.split(\"-\")[0];\n    if (extension && !dupeMap[extension]) {\n      dupeMap[extension] = true;\n      extensions.push(extension);\n    }\n  });\n  extensions.sort((a, b) => {\n    const aIndex = _resolveCompressedTextureUrl.validFormats.indexOf(a);\n    const bIndex = _resolveCompressedTextureUrl.validFormats.indexOf(b);\n    if (aIndex === -1) {\n      return 1;\n    }\n    if (bIndex === -1) {\n      return -1;\n    }\n    return aIndex - bIndex;\n  });\n  return extensions;\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":13,"column":0}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":13,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":11,"column":4},"generated":{"line":13,"column":31}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":13,"column":7},"generated":{"line":14,"column":0}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":14,"column":6}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":14,"column":22}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":14,"column":25}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":14,"column":32}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":14,"column":33}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":14,"column":49}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":14,"column":52}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":14,"column":4},"generated":{"line":15,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":14,"column":15},"generated":{"line":15,"column":11}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":14,"column":15},"generated":{"line":15,"column":13}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":16,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":16,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":15,"column":14},"generated":{"line":16,"column":10}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":15,"column":28},"generated":{"line":16,"column":35}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":15,"column":28},"generated":{"line":16,"column":36}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":15,"column":28},"generated":{"line":16,"column":51}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":17,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":16,"column":18},"generated":{"line":17,"column":12}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":16,"column":18},"generated":{"line":17,"column":14}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":16,"column":18},"generated":{"line":18,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":17,"column":4},"generated":{"line":18,"column":3}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":19,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":18,"column":4},"generated":{"line":19,"column":6}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":19,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":19,"column":14}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":18,"column":10},"generated":{"line":19,"column":15}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":19,"column":20}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":20,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":12},"generated":{"line":20,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":18},"generated":{"line":20,"column":14}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":18},"generated":{"line":20,"column":18}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":36},"generated":{"line":20,"column":54}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":36},"generated":{"line":20,"column":56}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":36},"generated":{"line":20,"column":57}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":46},"generated":{"line":20,"column":59}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":46},"generated":{"line":20,"column":66}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":20,"column":46},"generated":{"line":20,"column":70}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":21,"column":8},"generated":{"line":21,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":21,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":21,"column":12},"generated":{"line":21,"column":12}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":21,"column":29},"generated":{"line":21,"column":46}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":21,"column":29},"generated":{"line":21,"column":48}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":21,"column":29},"generated":{"line":21,"column":49}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":21,"column":39},"generated":{"line":21,"column":51}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":21,"column":39},"generated":{"line":21,"column":58}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":21,"column":39},"generated":{"line":21,"column":62}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":22,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":22,"column":11}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":22,"column":16}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":23,"column":15},"generated":{"line":23,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":23,"column":3}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":24,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":24,"column":5}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":25,"column":9},"generated":{"line":24,"column":7}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":25,"column":16},"generated":{"line":24,"column":13}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":24,"column":20}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":24,"column":24}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":27,"column":14},"generated":{"line":25,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":27,"column":14},"generated":{"line":25,"column":10}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":27,"column":14},"generated":{"line":25,"column":43}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":27,"column":50},"generated":{"line":25,"column":46}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":27,"column":56},"generated":{"line":25,"column":52}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":27,"column":56},"generated":{"line":25,"column":56}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":27,"column":93},"generated":{"line":25,"column":130}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":27,"column":93},"generated":{"line":25,"column":132}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":27,"column":93},"generated":{"line":25,"column":133}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":26,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":26,"column":31}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":29,"column":38},"generated":{"line":26,"column":34}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":29,"column":38},"generated":{"line":26,"column":78}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":29,"column":83},"generated":{"line":26,"column":79}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":29,"column":116},"generated":{"line":26,"column":112}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":29,"column":116},"generated":{"line":26,"column":113}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":27,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":27,"column":11}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":27,"column":12}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":27,"column":15}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":48},"generated":{"line":27,"column":42}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":48},"generated":{"line":27,"column":44}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":51},"generated":{"line":27,"column":47}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":58},"generated":{"line":27,"column":54}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":58},"generated":{"line":27,"column":55}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":31,"column":58},"generated":{"line":28,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":28,"column":3}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":29,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":29,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":29,"column":10}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":29,"column":16}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":29,"column":23}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":29,"column":27}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":30,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":30,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":30,"column":35}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":36,"column":8},"generated":{"line":30,"column":37}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":12},"generated":{"line":31,"column":6}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":19},"generated":{"line":31,"column":13}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":19},"generated":{"line":31,"column":20}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":27},"generated":{"line":31,"column":21}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":34},"generated":{"line":31,"column":27}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":35},"generated":{"line":31,"column":28}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":41},"generated":{"line":31,"column":29}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":41},"generated":{"line":31,"column":33}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":43},"generated":{"line":31,"column":35}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":43},"generated":{"line":31,"column":36}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":48},"generated":{"line":31,"column":40}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":76},"generated":{"line":31,"column":67}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":76},"generated":{"line":31,"column":68}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":76},"generated":{"line":31,"column":69}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":37,"column":76},"generated":{"line":32,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":33,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":33,"column":11}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":33,"column":18}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":34,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":42,"column":0},"generated":{"line":35,"column":0}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":42,"column":0},"generated":{"line":35,"column":1}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":44,"column":0},"generated":{"line":36,"column":0}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":36,"column":9}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":44,"column":9},"generated":{"line":36,"column":53}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":44,"column":54},"generated":{"line":36,"column":54}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":45,"column":0},"generated":{"line":36,"column":61}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":45,"column":0},"generated":{"line":36,"column":63}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":37,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":37,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":46,"column":10},"generated":{"line":37,"column":18}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":37,"column":21}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":46,"column":34},"generated":{"line":37,"column":22}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":46,"column":41},"generated":{"line":37,"column":29}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":46,"column":41},"generated":{"line":37,"column":30}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":48,"column":4},"generated":{"line":38,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":38,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":38,"column":15}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":48,"column":45},"generated":{"line":38,"column":18}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":48,"column":45},"generated":{"line":38,"column":19}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":48,"column":46},"generated":{"line":38,"column":20}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":39,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":39,"column":9}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":39,"column":10}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":39,"column":17}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":39,"column":18}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":39,"column":24}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":39,"column":28}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":40,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":14},"generated":{"line":40,"column":10}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":26},"generated":{"line":40,"column":19}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":26},"generated":{"line":40,"column":22}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":26},"generated":{"line":40,"column":28}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":33},"generated":{"line":40,"column":29}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":39},"generated":{"line":40,"column":34}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":39},"generated":{"line":40,"column":35}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":42},"generated":{"line":40,"column":38}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":42},"generated":{"line":40,"column":39}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":44},"generated":{"line":40,"column":40}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":45},"generated":{"line":40,"column":41}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":52,"column":45},"generated":{"line":40,"column":42}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":41,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":41,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":54,"column":25},"generated":{"line":41,"column":17}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":54,"column":25},"generated":{"line":41,"column":21}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":54,"column":26},"generated":{"line":41,"column":22}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":54,"column":34},"generated":{"line":41,"column":29}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":54,"column":34},"generated":{"line":41,"column":30}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":54,"column":43},"generated":{"line":41,"column":39}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":41,"column":40}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":41,"column":42}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":42,"column":6}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":56,"column":12},"generated":{"line":42,"column":13}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":42,"column":14}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":56,"column":29},"generated":{"line":42,"column":23}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":56,"column":33},"generated":{"line":42,"column":24}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":56,"column":33},"generated":{"line":42,"column":27}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":56,"column":33},"generated":{"line":42,"column":31}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":57,"column":12},"generated":{"line":43,"column":6}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":57,"column":12},"generated":{"line":43,"column":16}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":43,"column":17}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":43,"column":21}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":57,"column":28},"generated":{"line":43,"column":22}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":57,"column":37},"generated":{"line":43,"column":31}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":57,"column":37},"generated":{"line":43,"column":32}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":57,"column":37},"generated":{"line":44,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":45,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":59,"column":5},"generated":{"line":45,"column":3}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":59,"column":5},"generated":{"line":45,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":46,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":46,"column":12}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":46,"column":13}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":62,"column":15},"generated":{"line":46,"column":17}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":62,"column":20},"generated":{"line":46,"column":18}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":62,"column":21},"generated":{"line":46,"column":19}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":62,"column":21},"generated":{"line":46,"column":20}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":62,"column":24},"generated":{"line":46,"column":22}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":46,"column":23}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":46,"column":28}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":47,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":47,"column":10}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":14},"generated":{"line":47,"column":16}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":47,"column":19}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":36},"generated":{"line":47,"column":60}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":36},"generated":{"line":47,"column":61}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":36},"generated":{"line":47,"column":68}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":44},"generated":{"line":47,"column":69}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":45},"generated":{"line":47,"column":70}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":64,"column":45},"generated":{"line":47,"column":71}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":48,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":48,"column":10}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":48,"column":16}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":23},"generated":{"line":48,"column":19}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":36},"generated":{"line":48,"column":60}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":36},"generated":{"line":48,"column":61}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":36},"generated":{"line":48,"column":68}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":44},"generated":{"line":48,"column":69}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":45},"generated":{"line":48,"column":70}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":65,"column":45},"generated":{"line":48,"column":71}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":49,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":67,"column":12},"generated":{"line":49,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":67,"column":12},"generated":{"line":49,"column":14}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":67,"column":23},"generated":{"line":49,"column":19}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":49,"column":20}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":49,"column":21}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":49,"column":23}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":69,"column":19},"generated":{"line":50,"column":6}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":69,"column":19},"generated":{"line":50,"column":13}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":69,"column":19},"generated":{"line":50,"column":14}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":69,"column":19},"generated":{"line":51,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":52,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":52,"column":8}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":52,"column":14}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":71,"column":23},"generated":{"line":52,"column":19}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":52,"column":20}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":52,"column":21}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":52,"column":23}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":53,"column":6}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":53,"column":13}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":53,"column":14}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":53,"column":15}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":73,"column":19},"generated":{"line":54,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":55,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":76,"column":15},"generated":{"line":55,"column":11}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":76,"column":24},"generated":{"line":55,"column":17}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":76,"column":24},"generated":{"line":55,"column":20}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":76,"column":24},"generated":{"line":55,"column":26}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":76,"column":24},"generated":{"line":56,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":77,"column":5},"generated":{"line":56,"column":3}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":77,"column":5},"generated":{"line":56,"column":4}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":79,"column":11},"generated":{"line":57,"column":2}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":79,"column":11},"generated":{"line":57,"column":9}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":79,"column":11},"generated":{"line":57,"column":19}},{"source":"../../../src/compressed-textures/shared/detectCompressed.ts","name":null,"original":{"line":80,"column":0},"generated":{"line":58,"column":0}}],"sources":{"../../../src/compressed-textures/shared/detectCompressed.ts":"import { ExtensionType } from '../../extensions/Extensions';\n// eslint-disable-next-line max-len\nimport { getSupportedCompressedTextureFormats } from '../../rendering/renderers/shared/texture/utils/getSupportedCompressedTextureFormats';\nimport { isWebGLSupported } from '../../utils/browser/isWebGLSupported';\nimport { isWebGPUSupported } from '../../utils/browser/isWebGPUSupported';\nimport { validFormats } from './resolveCompressedTextureUrl';\n\nimport type { FormatDetectionParser } from '../../assets/detections/types';\nimport type { TEXTURE_FORMATS } from '../../rendering/renderers/shared/texture/const';\n\nlet compressedTextureExtensions: string[];\n\nexport const detectCompressed = {\n    extension: {\n        type: ExtensionType.DetectionParser,\n        priority: 2,\n    },\n    test: async (): Promise<boolean> =>\n    {\n        if (await isWebGPUSupported()) return true;\n        if (isWebGLSupported()) return true;\n\n        return false;\n    },\n    add: async (formats: string[]): Promise<string[]> =>\n    {\n        const supportedCompressedTextureFormats = await getSupportedCompressedTextureFormats();\n\n        compressedTextureExtensions = extractExtensionsForCompressedTextureFormats(supportedCompressedTextureFormats);\n\n        return [...compressedTextureExtensions, ...formats];\n    },\n    remove: async (formats: string[]): Promise<string[]> =>\n    {\n        if (compressedTextureExtensions)\n        {\n            return formats.filter((f) => !(f in compressedTextureExtensions));\n        }\n\n        return formats;\n    },\n} as FormatDetectionParser;\n\nfunction extractExtensionsForCompressedTextureFormats(formats: TEXTURE_FORMATS[]): string[]\n{\n    const extensions: string[] = ['basis'];\n\n    const dupeMap: Record<string, boolean> = {};\n\n    formats.forEach((format) =>\n    {\n        const extension = format.split('-')[0];\n\n        if (extension && !dupeMap[extension])\n        {\n            dupeMap[extension] = true;\n            extensions.push(extension);\n        }\n    });\n\n    // sort extensions by priority\n    extensions.sort((a, b) =>\n    {\n        const aIndex = validFormats.indexOf(a);\n        const bIndex = validFormats.indexOf(b);\n\n        if (aIndex === -1)\n        {\n            return 1;\n        }\n        if (bIndex === -1)\n        {\n            return -1;\n        }\n\n        return aIndex - bIndex;\n    });\n\n    return extensions;\n}\n"},"lineCount":null}},"error":null,"hash":"60c6fe5981ee6f196199f7dfd2bdbf1d","cacheData":{"env":{}}}